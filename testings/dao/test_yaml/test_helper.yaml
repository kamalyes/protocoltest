config:
- headers:
    accept: application/json, text/plain, */*
    accept-encoding: gzip
    accept-language: zh-CN,zh;q=0.9
    content-type: application/json;charset=UTF-8
    user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,
      like Gecko) Chrome/92.0.4515.107 Safari/537.36
- allures:
    feature: 函数助手测试(部分参数固定值仅做测试)
    severity: normal
- request:
    method: get
    url:  [localhost,8001]
test_setup:
  search_001:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 单条url
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: post
      url:  https://www.so.com/s
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
    sql:
      before_call_sql:
      before_do_sql:
      after_call_sql:
      after_do_sql:
  search_002:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 合法的url配置
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: get
      url:  [localhost,8001]
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_003:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 单列表
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: get
      url:  [localhost]
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_005:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 错误url
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: get
      url:  localhost
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_006:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 错误url001
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: get
      url:  https
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_007:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 单个值效验
    request:
      method: get
      url:  http://10.1.1.78:11008/swagger/doc.json
    validations:
      expected_code: 200
      expected_variables:
        $.basePath: [str_eq,""]
        $.swagger: [">",5.6]
        $.host: "10.1.1.78:11008"
      expected_time: 10
