config:
- headers:
    accept: application/json, text/plain, */*
    accept-encoding: gzip
    accept-language: zh-CN,zh;q=0.9
    content-type: application/json;charset=UTF-8
    user-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML,
      like Gecko) Chrome/92.0.4515.107 Safari/537.36
- allures:
    feature: 函数助手测试(部分参数固定值仅做测试)
    severity: normal
- request:
    method: get
    url:  https://www.so.com/s
test_setup:
  search_001:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 搜索哈哈哈
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_002:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 搜索哈哈哈
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: post
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10
  search_002:
    allures:
      severity: critical
      description: 这是继承测试的用例描述
      story: 自动存储变量
    headers:
      accept: application/json, text/plain, */*
      accept-encoding: gzip
      accept-language: zh-CN,zh;q=0.9
    request:
      method: post
      params: {"q": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
      data: {"AAAA": "${randSample()}","src": "srp","fr": "chrome_address_bar","psid": "${randLetters()}"}
    extract:
      test_var_name: "$.q"
      test_var_name001: "$.AAAA"
    validations:
      expected_code: 200
      expected_content: {"code":200,"message":"","error":"","details":null}
      expected_time: 10